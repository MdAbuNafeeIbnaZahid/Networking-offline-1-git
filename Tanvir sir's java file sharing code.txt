public void fileSend(NetworkUtil nc,String filePath) throws FileNotFoundException, IOException
     {
         FileInputStream fin;
         int size;
         fin = new FileInputStream(filePath);
         size=fin.available();
         nc.write(size);
	int totalBlock=(size/1024)+1;
         byte [] b;
                for(int i=1;i<=totalBlock;i++)
                {
                    if(i==totalBlock)
                    {
                        b=new byte[size%1024];
                         //fin.read(b);
                    }
                    else
                    {	
                        b=new byte[1024];
                        //fin.read(b);
                    }
                    fin.read(b);
                    //outToServer.write(b);
                    nc.write(b);
                }
                fin.close();
     }
     
     public void fileReceive(NetworkUtil nc, String filePath) throws IOException
     {
         int size;
         size=(Integer)nc.read();
        int totalBlock=(size/1024)+1;
        filePath=filePath + "/answer.doc";
                        
                        FileOutputStream fout=new FileOutputStream(filePath);                       

                        byte [] buffer;                   

                        for(int i=1;i<=totalBlock;i++)
                        {
                                if(i==totalBlock)
                                {

                                        buffer=new byte[size%1024];
                                }
                                else
                                {

                                        buffer=new byte[1024];
                                }
                                buffer=(byte[])nc.read();
                                fout.write(buffer);        
                        }
                        fout.close();
     }